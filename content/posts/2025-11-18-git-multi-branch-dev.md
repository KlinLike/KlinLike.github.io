---
title:  "ğŸŒ±Gitå¦‚ä½•ä½¿ç”¨å¤šåˆ†æ”¯è¿›è¡Œå¼€å‘"
date: 2025-11-18T10:02:16+08:00
tags: [git, workflow]
---

å¦‚æœå¸Œæœ›å–„ç”¨AIè¾…åŠ©å¼€å‘ï¼Œå¯¹å¤šåˆ†æ”¯çš„ä½¿ç”¨æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥**ä¿å­˜æœ‰æ•ˆçš„ä»£ç ä¿®æ”¹**ï¼Œä¹Ÿèƒ½**é¿å…AIçŠ¯å‚»å¯¹å·²å¼€å‘å¥½çš„åŠŸèƒ½è¿›è¡Œç ´å**ã€‚

---

## Stage 1ï¼šæœ¬åœ°å¼€å‘

### 1. å¼€åˆ†æ”¯

```bash
git checkout -b feature/new-feat
```

### 2. ç–¯ç‹‚æäº¤

æ¯å½“AIåšå‡ºä¸€ä¸ªæˆåŠŸçš„ä¿®æ”¹ï¼Œå°±æäº¤ä¸€ä¸ª commitï¼š

```bash
git add .
git commit -m "fix: fix a bug"
```

**âš ï¸ æ³¨æ„**ï¼šä¸è¦ push è¿™äº›ä¸´æ—¶çš„ commitï¼Œåªè¦ä¸ pushï¼Œæ— è®ºæ€ä¹ˆ rebaseï¼Œéƒ½ä¸ä¼šå¹²æ‰°åˆ°åˆ«äººã€‚

---

## Stage 2ï¼šåŒæ­¥ä¸»å¹²

å½“ master æœ‰æ›´æ–°æ—¶ï¼Œæœ‰ä¸¤ä¸ªé€‰æ‹©å¯ä»¥ä¿æŒåŒæ­¥ï¼Œé¿å… feature åˆ†æ”¯ä¸ä¸»å¹²å·®å¼‚è¿‡å¤§ï¼Œå¯¼è‡´åç»­åˆå¹¶å›°éš¾ã€‚

### æ–¹æ¡ˆä¸€ï¼šmergeï¼ˆæ¨èï¼‰

```bash
git merge master
```

**ä¼˜ç‚¹**ï¼šä¸ä¼šæ”¹å†™å†å²  
**ç¼ºç‚¹**ï¼šå†å²ä¼šå˜ä¸‘ï¼ˆä½†è¿™ä¸ªç¼ºç‚¹å¯ä»¥å¿½ç•¥ï¼Œå› ä¸ºæœ€ç»ˆ push å‰æˆ‘ä»¬å¯ä»¥åˆå¹¶æ•´ç† commitï¼‰ã€‚

è¿è¡Œè¿™ä¸ªæŒ‡ä»¤ä¼šåœ¨åˆ†æ”¯ä¸Šåˆ›å»ºä¸€ä¸ª Merge commitã€‚

### æ–¹æ¡ˆäºŒï¼šrebase

```bash
git rebase master
```

å¦‚æœèƒ½ç¡®å®š**æ²¡æœ‰ push è¿‡è¿™ä¸ªåˆ†æ”¯**ï¼Œå¯ä»¥ç”¨ rebase æ¥ä¿æŒåˆ†æ”¯çš„æ•´æ´ã€‚

---

## Stage 3ï¼šåˆå¹¶æäº¤

åœ¨å®Œæˆäº†æ‰€æœ‰å¼€å‘ï¼Œåˆ†æ”¯ä¹Ÿç”¨ merge / rebase åˆå¹¶äº†æœ€æ–°çš„ä¸»å¹²ä»£ç ï¼Œè§£å†³äº†æ‰€æœ‰å†²çªåï¼Œå°±å¯ä»¥è¿›è¡Œ commit æ•´ç†äº†ã€‚

### äº¤äº’å¼ rebase

æ‰§è¡Œä»¥ä¸‹å‘½ä»¤åï¼Œä¼šæ‰“å¼€ç¼–è¾‘å™¨ï¼Œåˆ—å‡ºæ‰€æœ‰ commitï¼š

```bash
git rebase -i master
```

ç¼–è¾‘å™¨æ˜¾ç¤ºå†…å®¹ï¼š

```
pick 1a2b3c wip: step 1
pick 4d5e6f fix: typo
pick 7a8b9c wip: ai gen module A
pick 1d2e3f Merge remote-tracking branch ...
pick 4a5b6c wip: step 2
pick 7d8e9f feat: add class B
pick 1a2b3d Merge remote-tracking branch ...
pick 4d5e6e fix: final bug
```

### ä¿®æ”¹æ“ä½œæŒ‡ä»¤

å¯ä»¥æŠŠå¼€å¤´çš„ `pick` ä¿®æ”¹æˆ `s` æˆ– `f`ï¼š

- **s (squash)**ï¼šå‹ç¼©ï¼Œå®ƒä¼šæŠŠè¿™ä¸ª commit åˆå¹¶åˆ°ä¸Šä¸€ä¸ª commitï¼Œå¹¶è®©ä½ é‡æ–°ç¼–è¾‘ commit message
- **f (fixup)**ï¼šåŒä¸Šï¼Œä½†å®ƒä¼šä¸¢å¼ƒè¿™ä¸ª commit çš„ message

å°†é™¤ç¬¬ä¸€è¡Œå¤–çš„æ‰€æœ‰ `pick` éƒ½æ”¹æˆ `f`ï¼Œè¿™æ ·æœ€ç»ˆåªä¿ç•™ç¬¬ä¸€ä¸ª commitï¼Œå…¶ä»–éƒ½åˆå¹¶è¿›å»ï¼š

```
pick 1a2b3c wip: step 1
f 4d5e6f fix: typo
f 7a8b9c wip: ai gen module A
f 1d2e3f Merge remote-tracking branch ...
f 4a5b6c wip: step 2
f 7d8e9f feat: add class B
f 1a2b3d Merge remote-tracking branch ...
f 4d5e6e fix: final bug
```

### å®Œæˆæ•´ç†

ä¿å­˜ä¿®æ”¹ï¼Œç„¶åé€€å‡ºï¼Œä¹‹åå°±å¯ä»¥ç¼–å†™æœ€ç»ˆçš„ commit äº†ï¼Œè¿™æ—¶å€™ä½ å¯ä»¥é’ˆå¯¹è¿™ä¸€æ•´ä¸ªåˆ†æ”¯çš„æäº¤ç¼–å†™ä¸€ä¸ªæ¸…æ™°çš„ commitã€‚

æ•´ç†å®Œæˆåï¼Œè¿™ä¸ªåˆ†æ”¯å°±åªå‰©ä¸‹å¹²å‡€çš„ commitã€‚å¦‚æœè¿™æ˜¯é¦–æ¬¡ pushï¼Œç›´æ¥æ¨é€å³å¯ï¼›å¦‚æœä¹‹å‰å·²ç» push è¿‡ï¼Œéœ€è¦ä½¿ç”¨ force pushï¼š

```bash
# é¦–æ¬¡ push
git push origin feature/new-feat

# å·² push è¿‡çš„åˆ†æ”¯ï¼ˆéœ€è¦ force pushï¼‰
git push --force-with-lease origin feature/new-feat
```

**âš ï¸ é‡è¦æç¤º**ï¼šå¦‚æœä¸€ä¸ªåˆ†æ”¯è¢« push è¿‡åå†æ‰§è¡Œ rebaseï¼Œä¼šå¯¼è‡´è¿œç¨‹ä»“åº“çš„è¯¥featureåˆ†æ”¯å†å²è¢«é‡å†™ï¼Œå¯¹å…¶ä»–å›¢é˜Ÿæˆå‘˜é€ æˆå¹²æ‰°ã€‚
